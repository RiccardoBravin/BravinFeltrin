title Change DSO manually

actor CPO Employee
participant UserInterfaceManager
participant CPMS_DSOManagingService
participant DSO_API

linear

activate UserInterfaceManager

opt search for DSO  
	CPO Employee->UserInterfaceManager:select show DSO list
	UserInterfaceManager->CPMS_DSOManagingService: RetrieveDSOList()
	activate CPMS_DSOManagingService
    CPMS_DSOManagingService->DSO_API:RetrieveList()
    activate DSO_API
    DSO_API-->CPMS_DSOManagingService:DSOs info list
    deactivate DSO_API
    CPMS_DSOManagingService--> UserInterfaceManager :DSOs info list
    deactivate CPMS_DSOManagingService
    UserInterfaceManager -->CPO Employee:Show DSOs list
    
    opt filter DSOs 
    CPO Employee ->UserInterfaceManager: filter DSOs list
    UserInterfaceManager->CPMS_DSOManagingService:requestFiltering(filter)
    activate CPMS_DSOManagingService
    
    CPMS_DSOManagingService ->CPMS_DSOManagingService:filterList()
    
    CPMS_DSOManagingService -->UserInterfaceManager:filtered DSOs list
    deactivate CPMS_DSOManagingService
    UserInterfaceManager -->CPO Employee:Show filtered DSOs list
    end
    
end

CPO Employee->UserInterfaceManager:Select change DSO
UserInterfaceManager-->CPO Employee:show DSO selection form

CPO Employee ->UserInterfaceManager:fill DSO change form

UserInterfaceManager->CPMS_DSOManagingService:RequestDSOChange(DSO)
activate CPMS_DSOManagingService

CPMS_DSOManagingService->DSO_API:stipulateNewContract()
activate DSO_API

alt contract stipulated
DSO_API-->CPMS_DSOManagingService:Completed
deactivate DSO_API
CPMS_DSOManagingService-->UserInterfaceManager:Completed
deactivate CPMS_DSOManagingService
UserInterfaceManager-->CPO Employee:show contract report

else error in contract stipulation
activate DSO_API
activate CPMS_DSOManagingService
DSO_API-->CPMS_DSOManagingService:Failed
deactivate DSO_API
CPMS_DSOManagingService-->UserInterfaceManager:Failed
deactivate CPMS_DSOManagingService
UserInterfaceManager-->CPO Employee:show error


end 

