title CPMS employee login

actor CPMS employee
participant CPMS_graphics
participant CPMS_authorizationService
participant CPOs_API


activate CPMS_graphics
CPMS employee->CPMS_graphics:fill login form

	
CPMS_graphics-> CPMS_authorizationService: Login(user,psw)
activate CPMS_authorizationService
CPMS_authorizationService->CPMS_authorizationService:ValidateInput()

alt valid data

    

	
    
    CPMS_authorizationService->CPOs_API:verifyLogin(user,psw)
	activate CPOs_API
	alt employee authorized
    
    CPOs_API-->CPMS_authorizationService:Authorized
    deactivate CPOs_API
    CPMS_authorizationService--> CPMS_graphics: Authorized
    deactivate CPMS_authorizationService
    
    CPMS_graphics-->CPMS employee:Successfull login
    else employee not authorized
    activate CPMS_authorizationService
 	activate CPOs_API
    
    CPOs_API-->CPMS_authorizationService:Unauthorized
    
    deactivate CPOs_API
    CPMS_authorizationService--> CPMS_graphics: Unauthorized
    deactivate CPMS_authorizationService
    CPMS_graphics-->CPMS employee:Failed
    space
end
else invalid data
	activate CPMS_authorizationService
    CPMS_authorizationService-->CPMS_graphics:Invalid data
	CPMS_graphics-->CPMS employee:Invalid data

end 
